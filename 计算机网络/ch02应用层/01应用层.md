在设计一个应用程序时，应该要首先考虑到应用程序体系结构(application architecture)。应用程序体系结构由应用程序研发者设计，规定了如何在各种主机上组织该应用程序。当下，这种体系结构一般为两种之一：

* 客户端 - 服务器体系结构
* P2P体系结构

在两个不同的主机之间，通过跨越计算机网络交换报文而进行通信。进行通信的主体是进程而不是程序。网络应用程序由成对的进程组成，这些进程通过网络互相发送报文。在一对进程之间的通信会话场景中，发起通信的进程被标识为客户端，在会话开始时等待联系的进程是服务器

进程通过套接字socket向网络发送报文和从网络接收报文。为了标识接收进程，需要定义两种信息：主机ip；端口号

#### 应用服务的要求分类

* 可靠数据传输

  即是否需要保证由应用程序一端发送的数据正确、完全地交付给该应用程序的另外一端

* 吞吐量

  发送进程能够向接收进程发送比特的速率

* 时延

  要求数据交付有严格的时间限制

* 安全性

#### 应用层协议

应用层协议定义了运行在不同端系统上的应用程序进程如何相互传递报文。特别是应用层协议定义了：

* 交换的报文类型
* 各种报文类型的语法
* 字段的语义
* 确定一个进程何时以及如何发送报文，对报文进行响应的规则

#### 电子邮件

有3个主要的组成部分：

* 用户代理（User Agent）

* 邮件服务器（mail server）

* 简单邮件传输协议（Simle Mail Transfer Protocol，SMTP）

  SMTP是一个push协议，只能用于从一个用户代理将邮件推至用户服务器，以及将邮件从发送方的邮件服务器推至接收方的邮件服务器。默认使用25号端口

一开始的时候，用户想要check自己的邮件都是直接登录自己的邮件服务器，然后直接看邮件。但是现在，一般是通过一个用户代理将邮件从服务器拉至本地。目前一些流行的邮件访问协议包括：

* Internet Mail Access Protocol，IMAP
* Post Office Protocol Version 3，POP3
* 基于WEB的电子邮件，通过HTTP进行邮件收发。但是邮件服务器之间还是通过SMTP协议进行

#### DNS

Domain Name System的主要任务是进行主机名到IP地址转换。DNS是：

* 一个由分层的DNS服务器实现的分布式数据库
* 一个使得主机能够查询分布式数据库的应用层协议

DNS服务器通常是运行BIND（Berkeley Internet Name Domain）软件的UNIX机器。

DNS协议运行在UDP之上，使用53号端口

除了进行主机名到IP地址的转换外，DNS还提供了一些重要的服务：

* 主机别名。
* 邮件服务器别名。
* 负载均衡。

DNS的工作原理

#### P2P

#### CDN

