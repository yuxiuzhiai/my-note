# 概念

在rocketmq中，当生产者生成消息发送到broker时，broker需要将消息存储到commitlog文件中。但是，如果每次接受到消息就写文件一次，那整个broker的吞吐量会大大受制于磁盘的写入性能。所以，在rocketmq中，其实在kafka中也是，就是先在内存中建立一个这个文件的内存映射，然后将消息写入这个内存映射中，这样一来，由于内存的写入性能相较于磁盘的写入性能，那简直不知道高到哪里去了，从而也可以大大提升整个broker的吞吐量。

# 组件

# 用法



# 实现

# 结语



(水平有限，最近在看rocketmq源码，记录学习过程，也希望对各位有点微小的帮助。如有错误，请指正~)

